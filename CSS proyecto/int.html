<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="di.css">
    <title>Guía de Instalación - Contestadora 911</title>
</head>
<body>
    <section class="intro-section">
        <h3>Guía de Instalación del Proyecto</h3>
        <p>Esta guía detalla los pasos necesarios para instalar y ejecutar correctamente el proyecto de la contestadora automática 911.</p>

        <h4>1. Requisitos Básicos</h4>
        
        <h5>1.1. Python</h5>
        <p>Python es el lenguaje base de este proyecto. Descarga e instala la versión más reciente:</p>
        <div class="code-box">
            <div class="code-box-content">
                <a id="link1" href="https://www.python.org/downloads/" target="_blank">https://www.python.org/downloads/</a>
            </div>
        </div>

        <h5>1.2. Visual Studio Code</h5>
        <p>IDE recomendado para el desarrollo del proyecto:</p>
        <div class="code-box">
            <div class="code-box-content">
                <a id="link2" href="https://code.visualstudio.com/" target="_blank">https://code.visualstudio.com/</a>
            </div>
        </div>

        <h5>1.3. Git</h5>
        <p>Sistema de control de versiones necesario para clonar el repositorio:</p>
        <div class="code-box">
            <div class="code-box-content">
                <a id="link3" href="https://git-scm.com/downloads" target="_blank">https://git-scm.com/downloads</a>
            </div>
        </div>

        <h4>2. Configuración del Proyecto</h4>

        <h5>2.1. Clonar el Repositorio</h5>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo4">git clone https://github.com/Mogollo7/Contestadora-911.git</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo4')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>2.2. Entorno Virtual</h5>
        <p>Activa el entorno virtual para aislar las dependencias del proyecto:</p>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo5">.\venv\Scripts\activate</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo5')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>2.3. Instalación de Dependencias</h5>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo6">pip install -r requirements.txt</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo6')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h4>3. Configuración del Entorno Linux (WSL)</h4>
        
        <h5>3.1. Instalación de WSL</h5>
        <p>Ejecuta PowerShell como administrador y ejecuta:</p>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo7">wsl --install</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo7')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>3.2. Iniciar WSL</h5>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo8">wsl</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo8')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h4>4. Instalación de Docker</h4>

        <h5>4.1. Preparación del Sistema</h5>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo9">sudo apt update && sudo apt upgrade -y</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo9')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>4.2. Instalación de Dependencias</h5>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo10">sudo apt install -y ca-certificates curl gnupg lsb-release</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo10')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>4.3. Configuración del Repositorio Docker</h5>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo11">sudo mkdir -p /etc/apt/keyrings</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo11')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
            <div class="code-box-content">
                <code id="codigo12">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo12')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>4.4. Instalación de Docker Engine</h5>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo13">sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo13')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>4.5. Configuración del Servidor OSRM en Docker</h5>
        <p>Para ejecutar el servidor OSRM en Docker, necesitamos seguir estos pasos:</p>
        
        <h6>4.5.1. Navegar al Directorio de Datos</h6>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo_osrm1">cd ~/osrm-data</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo_osrm1')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>
        <p>Este comando nos ubica en el directorio donde están almacenados los datos de OSRM.</p>

        <h6>4.5.2. Iniciar el Servidor OSRM</h6>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo_osrm2">docker run -t -i -p 5000:5000 -v $(pwd):/data osrm/osrm-backend osrm-routed --algorithm mld /data/colombia-latest.osrm</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo_osrm2')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <p>Explicación del comando:</p>
        <ul class="command-explanation">
            <li><strong>docker run:</strong> Inicia un nuevo contenedor Docker</li>
            <li><strong>-t -i:</strong> Habilita la interacción con el contenedor (-t para terminal, -i para interactivo)</li>
            <li><strong>-p 5000:5000:</strong> Mapea el puerto 5000 del contenedor al puerto 5000 de tu máquina local</li>
            <li><strong>-v $(pwd):/data:</strong> Monta el directorio actual (pwd) en el directorio /data dentro del contenedor</li>
            <li><strong>osrm/osrm-backend:</strong> La imagen de Docker que contiene el servidor OSRM</li>
            <li><strong>osrm-routed:</strong> El comando que inicia el servidor de rutas</li>
            <li><strong>--algorithm mld:</strong> Utiliza el algoritmo Multi-Level Dijkstra para el cálculo de rutas</li>
            <li><strong>/data/colombia-latest.osrm:</strong> El archivo de datos de Colombia preprocesado</li>
        </ul>

        <p>Una vez ejecutado, el servidor OSRM estará disponible en:</p>
        <div class="code-box">
            <div class="code-box-content">
                <code>http://localhost:5000</code>
            </div>
        </div>

        <p>Puedes probar el servidor con una consulta de ejemplo:</p>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo_osrm3">curl "http://localhost:5000/route/v1/driving/-74.08175,4.60971;-75.6981,4.8133?overview=false"</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo_osrm3')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>
        <p>Este ejemplo solicita una ruta entre Bogotá y Ibagué.</p>

        <h4>6. Instalación de Ollama y Llama</h4>
        <p>Ollama es una herramienta que nos permite ejecutar modelos de lenguaje localmente. Instalaremos Ollama y el modelo Llama 3B, que ofrece un buen balance entre rendimiento y recursos necesarios.</p>

        <h5>6.1. Instalación de Ollama</h5>
        <p>Primero, descargamos e instalamos Ollama usando curl:</p>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo_ollama1">curl -fsSL https://ollama.com/install.sh | sh</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo_ollama1')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>6.2. Iniciar el Servicio Ollama</h5>
        <p>Una vez instalado, iniciamos el servicio:</p>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo_ollama2">ollama serve</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo_ollama2')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>6.3. Descarga de Llama 3B</h5>
        <p>Recomendamos el modelo Llama 3B por las siguientes razones:</p>
        <ul class="model-benefits">
            <li>Menor consumo de recursos (RAM y GPU)</li>
            <li>Tiempo de respuesta más rápido</li>
            <li>Buen balance entre rendimiento y precisión</li>
            <li>Ideal para equipos con recursos limitados</li>
        </ul>

        <p>Para descargar el modelo Llama 3B, ejecuta:</p>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo_ollama3">ollama pull llama2:3b</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo_ollama3')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>6.4. Ejecutar el Modelo</h5>
        <p>Para iniciar una conversación con el modelo:</p>
        <div class="code-box">
            <div class="code-box-content">
                <code id="codigo_ollama4">ollama run llama2:3b</code>
                <button class="neo-button copiar-btn" onclick="copiarTexto('codigo_ollama4')">
                    <i class="fa-solid fa-copy"></i>
                </button>
            </div>
        </div>

        <h5>6.5. Requisitos del Sistema</h5>
        <p>Para ejecutar Llama 3B de manera óptima, se recomienda:</p>
        <ul class="system-requirements">
            <li>Mínimo 8GB de RAM</li>
            <li>Al menos 5GB de espacio en disco</li>
            <li>Procesador con 4 núcleos o más</li>
            <li>Sistema operativo Ubuntu 20.04 o superior</li>
        </ul>

        <p>Nota: Si prefieres el modelo de 8B, puedes instalarlo con <code>ollama pull llama2:8b</code>, pero ten en cuenta que requiere más recursos (mínimo 16GB de RAM).</p>

        <div class="button-container">
            <button class="neo-button" onclick="mostrar('requisitos')">
                <ion-icon name="arrow-back-outline"></ion-icon> Anterior
            </button>
            <button class="neo-button" onclick="mostrar('docker')">
                Siguiente <ion-icon name="arrow-forward-outline"></ion-icon>
            </button>
        </div>
    </section>

    <script src="sc.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>